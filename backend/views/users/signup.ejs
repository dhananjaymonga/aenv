<% layout("/layouts/boilerplate") %>

<body class="bg-gray-100">
    <div class="min-h-screen flex items-center justify-center">
        <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
            <h2 class="text-2xl font-semibold text-center mb-6">Sign up with Airbnb</h2>

            <!-- Signup Form -->
            <form id="signupForm" action="/signup" method="POST" class="space-y-4">
                <div>
                    <input type="text" id="username" name="username" placeholder="Username" required 
                        class="w-full border px-3 py-2 rounded-lg focus:outline-none">
                    <p id="usernameError" class="text-red-500 text-sm hidden">Username is required</p>
                </div>

                <div>
                    <input type="email" id="email" name="email" placeholder="Email" required 
                        class="w-full border px-3 py-2 rounded-lg focus:outline-none">
                    <p id="emailError" class="text-red-500 text-sm hidden">Enter a valid email</p>
                </div>

                <div>
                    <input type="password" id="password" name="password" placeholder="Password" required 
                        class="w-full border px-3 py-2 rounded-lg focus:outline-none">
                    <p id="passwordError" class="text-red-500 text-sm hidden">Password must be at least 6 characters</p>
                </div>

                <button type="submit" class="w-full bg-red-500 text-white py-2 rounded-lg">Sign up</button>
            </form>

            <div class="flex items-center my-4">
                <hr class="flex-grow border-t">
                <span class="px-2 text-gray-400">or</span>
                <hr class="flex-grow border-t">
            </div>

            <!-- Social Logins -->
            <div class="space-y-3">
                <a href="/google" class="flex items-center gap-2 justify-center border p-2 rounded-lg hover:bg-gray-100">
                    <svg class="w-5 h-5" viewBox="0 0 48 48"><path fill="#4285F4" d="M44.5 20H24v8.5h11.8C33.3 34.6 29 38 24 38c-7.7 0-14-6.3-14-14s6.3-14 14-14c3.6 0 6.9 1.3 9.4 3.6L40 6C35.7 2.3 30.1 0 24 0 10.8 0 0 10.8 0 24s10.8 24 24 24c12.7 0 24-9.3 24-24 0-1.3-.1-2.7-.3-4z"/></svg>
                    <span>Continue with Google</span>
                  </a>
                <!-- <a href="/auth/facebook" class="flex items-center justify-center bg-blue-600 text-white px-4 py-2 rounded-lg">
                    <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24"><path fill="white" d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.75v-6.9h-2V12h2v-2c0-2 1-3.16 3.14-3.16c.9 0 1.86.14 1.86.14v2h-1.05c-1.04 0-1.35.65-1.35 1.3V12h2.3l-.37 2.85h-1.93v6.9c4.56-.88 8-4.91 8-9.75z"/></svg>
                    Continue with Facebook
                </a>
                <a href="/auth/apple" class="flex items-center justify-center bg-black text-white px-4 py-2 rounded-lg">
                    Continue with Apple
                </a> -->
            </div>

            <p class="text-center text-gray-600 mt-4">Already have an account? 
                <a href="/login" class="text-red-500">Log in</a>
            </p>
        </div>
    </div>

    <script>
        document.getElementById('signupForm').addEventListener('submit', function(event) {
            let isValid = true;

            function validateField(id, condition) {
                const field = document.getElementById(id);
                const error = document.getElementById(id + 'Error');

                if (condition) {
                    field.classList.remove('border-green-500');
                    field.classList.add('border-red-500');
                    error.classList.remove('hidden');
                    isValid = false;
                } else {
                    field.classList.remove('border-red-500');
                    field.classList.add('border-green-500');
                    error.classList.add('hidden');
                }
            }

            validateField('username', !document.getElementById('username').value.trim());
            validateField('email', !document.getElementById('email').value.includes('@'));
            validateField('password', document.getElementById('password').value.length < 6);

            if (!isValid) event.preventDefault();
        });
    </script>
</body>
</html>
