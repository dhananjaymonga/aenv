<% layout("/layouts/boilerplate") %>

<body class="bg-gray-100">
    <div class="min-h-screen flex items-center justify-center">
        <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
            <h2 class="text-2xl font-semibold text-center mb-6">Sign up with Airbnb</h2>

            <!-- Signup Form -->
            <form id="signupForm" action="/signup" method="POST" class="space-y-4">
                <div>
                    <input type="text" id="username" name="username" placeholder="Username" required 
                        class="w-full border px-3 py-2 rounded-lg focus:outline-none">
                    <p id="usernameError" class="text-red-500 text-sm hidden">Username is required</p>
                </div>

                <div>
                    <input type="email" id="email" name="email" placeholder="Email" required 
                        class="w-full border px-3 py-2 rounded-lg focus:outline-none">
                    <p id="emailError" class="text-red-500 text-sm hidden">Enter a valid email</p>
                </div>

                <div>
                    <input type="password" id="password" name="password" placeholder="Password" required 
                        class="w-full border px-3 py-2 rounded-lg focus:outline-none">
                    <p id="passwordError" class="text-red-500 text-sm hidden">Password must be at least 6 characters</p>
                </div>

                <button type="submit" class="w-full bg-red-500 text-white py-2 rounded-lg">Sign up</button>
            </form>

            <div class="flex items-center my-4">
                <hr class="flex-grow border-t">
                <span class="px-2 text-gray-400">or</span>
                <hr class="flex-grow border-t">
            </div>

            <!-- Social Logins -->
            <div class="space-y-3">
                <a href="/auth/google" class="flex items-center justify-center bg-red-500 text-white px-4 py-2 rounded-lg">
                    <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24"><path fill="white" d="M21.35 11.1h-9.32v2.8h5.8c-.26 1.4-1 2.54-2.14 3.33v2.77h3.43c2-1.8 3.15-4.47 3.15-7.6c0-.56-.06-1.1-.14-1.6z"/><path fill="white" d="M12.03 21c2.85 0 5.23-.95 6.97-2.57l-3.43-2.77c-.95.66-2.14 1.05-3.54 1.05c-2.73 0-5.05-1.84-5.88-4.3H2.54v2.8A9.995 9.995 0 0 0 12.03 21z"/><path fill="white" d="M6.15 12c-.2-.66-.31-1.34-.31-2s.11-1.34.31-2V5.2H2.54A9.995 9.995 0 0 0 2 12c0 1.72.42 3.34 1.15 4.8l3-2.3z"/><path fill="white" d="M12.03 4.8c1.42 0 2.73.48 3.75 1.4l2.85-2.8C16.97 1.05 14.6 0 12.03 0C7.92 0 4.24 2.3 2.54 5.2l3 2.3c.84-2.46 3.15-4.3 5.88-4.3z"/></svg>
                    Continue with Google
                </a>
                <a href="/auth/facebook" class="flex items-center justify-center bg-blue-600 text-white px-4 py-2 rounded-lg">
                    <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24"><path fill="white" d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.75v-6.9h-2V12h2v-2c0-2 1-3.16 3.14-3.16c.9 0 1.86.14 1.86.14v2h-1.05c-1.04 0-1.35.65-1.35 1.3V12h2.3l-.37 2.85h-1.93v6.9c4.56-.88 8-4.91 8-9.75z"/></svg>
                    Continue with Facebook
                </a>
                <a href="/auth/apple" class="flex items-center justify-center bg-black text-white px-4 py-2 rounded-lg">
                    Continue with Apple
                </a>
            </div>

            <p class="text-center text-gray-600 mt-4">Already have an account? 
                <a href="/login" class="text-red-500">Log in</a>
            </p>
        </div>
    </div>

    <script>
        document.getElementById('signupForm').addEventListener('submit', function(event) {
            let isValid = true;

            function validateField(id, condition) {
                const field = document.getElementById(id);
                const error = document.getElementById(id + 'Error');

                if (condition) {
                    field.classList.remove('border-green-500');
                    field.classList.add('border-red-500');
                    error.classList.remove('hidden');
                    isValid = false;
                } else {
                    field.classList.remove('border-red-500');
                    field.classList.add('border-green-500');
                    error.classList.add('hidden');
                }
            }

            validateField('username', !document.getElementById('username').value.trim());
            validateField('email', !document.getElementById('email').value.includes('@'));
            validateField('password', document.getElementById('password').value.length < 6);

            if (!isValid) event.preventDefault();
        });
    </script>
</body>
</html>
